-- DROP SCHEMA FUNDACAO;

CREATE SCHEMA IF NOT EXISTS FUNDACAO;

-- DROP SEQUENCE FUNDACAO.PRONTUARIO_SEQ;

CREATE SEQUENCE FUNDACAO.PRONTUARIO_SEQ
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    START 1
	CACHE 1
	NO CYCLE;

-- DROP TABLE FUNDACAO.PRONTUARIO;

CREATE TABLE FUNDACAO.PRONTUARIO (
    ID NUMERIC(9) NOT NULL,
    PRIMEIRO_NOME VARCHAR(500),
    SEGUNDO_NOME VARCHAR(500),
    PRIMEIRO_SOBRENOME VARCHAR(500),
    SEGUNDO_SOBRENOME VARCHAR(500),
    ENDERECO_COMPLETO VARCHAR(1000),
    CONSTRAINT PRONTUARIO_PK PRIMARY KEY (ID)
);

-- DROP SEQUENCE FUNDACAO.ENDERECO_SEQ;

CREATE SEQUENCE FUNDACAO.ENDERECO_SEQ
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    START 1
	CACHE 1
	NO CYCLE;

-- DROP TABLE FUNDACAO.ENDERECO;

CREATE TABLE FUNDACAO.ENDERECO (
    ID NUMERIC(9) NOT NULL,
    PAIS VARCHAR(200),
    ESTADO VARCHAR(200),
    CIDADE VARCHAR(200),
    PRONTUARIO_ID NUMERIC(9),
    CONSTRAINT ENDERECO_PK PRIMARY KEY (ID),
    CONSTRAINT ENDERECO_PRONTUARIO_FK FOREIGN KEY (PRONTUARIO_ID) REFERENCES FUNDACAO.PRONTUARIO (ID)
);

-- Adicionar coluna PRONTUARIO_ID na tabela PRONTUARIO para armazenar o ID de ENDERECO
ALTER TABLE FUNDACAO.PRONTUARIO
ADD ENDERECO_ID NUMERIC(9);

-- Adicionar a chave estrangeira (foreign key) que aponta para o ID da tabela ENDERECO
ALTER TABLE FUNDACAO.PRONTUARIO
ADD CONSTRAINT PRONTUARIO_ENDERECO_FK
FOREIGN KEY (ENDERECO_ID)
REFERENCES FUNDACAO.ENDERECO (ID);